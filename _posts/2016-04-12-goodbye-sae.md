---
layout: article
title: 告别SAE，告别WordPress：博客再次搬迁
date: 2016-04-12 21:09:08
keywords: SAE, WordPress, Hexo
tags: blog
intro: 在SAE持续坑爹后作出了一个艰难的决定：放弃WordPress平台，改用静态博客系统，放到别的主机上。就是现在这个样子。
---

渣浪在去年的时候刚发了《SAE正式进入全民免费时代》的公告（现在官网已经找不到了打脸啪啪啪），结果不到一年已经差不多成了废物。首先收取10云豆/天的应用租金，然后MySQL数据库也收钱，2云豆/小时，这么算下来我的两个应用一天下来要100多云豆也就是1元人民币多，一年下来就是三四百。收费不是问题，外国的云服务基本都收费而且不见得比SAE便宜，可SAE是什么破烂东西？被SAE坑了好几次浪费了不少时间，真是不想再用了。于是决定迁移。

我开始写博客是很多年前的事了，最早是在Blogger上，后来用过百度hi空间、QQ空间、和讯博客、点点等很多，慢慢地国外的服务一个个被屏蔽，国内的渣渣平台也越来越不靠谱，后来想了想还是买了个php空间上了WordPress。可惜当时太穷也没有眼光，光图便宜，买的是淘宝上的廉价Windows主机，结果要么访问速度慢要么各种不靠谱（有的还被挂过马！），后来知道了paas这种东西，发现有不少人在SAE上放博客，而且基本不花钱，服务器又是在国内，于是又搬迁到SAE上某个定制版本的WordPress上了。

这么算下来搬过不少次了。自己也的确是挺能折腾的。当年在Blogger的模板、自定义域名以及其它平台的各种定制上花了不少工夫。后来一直用WordPress，搬迁也方便，导出再导入数据库、将文件拷贝到新空间，基本上就完成了。

现在再次搬迁，需要考虑的主要因素其实是国内的访问。国内的互联网环境大家都懂的。我有两个VPS，目前IP应该都没有什么问题，再加上一层CloudFlare应该都还好。于是就先决定放到Bandwagon主机上。不到迫不得已我不太想备案、使用国内节点之类。关于平台，一开始打算还是用WordPress，后来想想对现在的系统并不满意。其实WordPress是个不错的东西，之前基于WordPress做过两个CMS系统，很不错，各项功能很完善，插件很丰富。然而另一方面，问题就是它太大了，太复杂，网页载入也稍慢。我本来就不是特别喜欢PHP，再加上之前的博客系统太重，里面有n个插件，对于低配置小主机来说执行页面并不是特别轻松的事情，于是决定转为静态博客。静态博客也有不少，Jekyll、Hexo、Octopress等等，后来选了Hexo发现还不错，虽然很不完善。主要好处是自己想要折腾的话容易地很多，不需要像WordPress那样查很多文档满大街找相关API。我现在差不多把之前的主题完全照抄下来了，还缺Tags、Categories、Search form这些东西，不过我文章不多这些元素都不重要。又花了不少功夫搞明白了Jade的工作原理，费了好大劲自己写模板，将WordPress文章转为Markdown，导入评论等等，现在基本上都差不多了。看着还挺不错。（PS：WordPress上语法高亮还需要专门的插件支持，真累，还是Markdown方便）

其实这个博客不指望有什么人看，如果我不主动将链接发在其它平台上是肯定不会看到评论的。比较高兴的一点是我发现两篇LaTeX的文章在Google的搜索结果中排名比较靠前，还被其它垃圾站采集，看来内容质量还不错得到了承认，究竟有多少人看过就不知道了。其实无所谓了，自己写着高兴就行。

最后说说被渣SAE坑的故事：

之前有两个应用，一个PHP应用（就是博客）和一个基于Django的Python应用。PHP应用还好没什么大问题，虽然本地不能读写还是有点麻烦。Python应用是各种坑爹。新浪屏蔽了一些默认的接口又引入了一些自己的奇葩接口，但这些接口很不好用。之前为了实现在Django中发送HTML格式邮件折腾了好久，试了很多方法，一直都是发送纯文本（各种`<div></div>`的HTML源代码都之前显示出来），好不容易才搞定。换句话说，我的代码在本地运行时候没有任何问题，到了SAE上必须要专门另写一套代码才行。这个还可以理解，不过另外一次真是对SAE太失望了。我的应用里面用到了Memcache，本来也没什么，但是有一次突然出了一个奇怪的事情：不论我在SAE的控制台中如何清空缓存，我的代码运行的时候总是能读取到之前缓存里的数据，也就是说那个控制台不管用。我花了好久才明白这个问题，之前一直以为自己程序写得有问题还查了好久。我花了大约一两个小时在这上面，好不容易明白过来，决定不折腾了，等缓存自行过期。果然等缓存时间到了之后新的数据出来了。这不是摆明了浪费程序员的时间吗？不过SAE被骂也不是一两次了，之前出过好几次问题，最离谱的是域名过期的事情，SAE不靠谱也不是一两天了，尤其在全民收费时代来临之后越来越多的人决定将应用迁移走，希望SAE早死早好。

---

2019年1月更新：将Hexo转成Jekyll了。还是用的人多的框架更靠谱。
